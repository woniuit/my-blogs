import{_ as n,o as s,c as a,e as t}from"./app.c676d039.js";const p={},o=t(`<h1 id="\u4E8B\u4EF6\u5FAA\u73AF" tabindex="-1"><a class="header-anchor" href="#\u4E8B\u4EF6\u5FAA\u73AF" aria-hidden="true">#</a> \u4E8B\u4EF6\u5FAA\u73AF</h1><h2 id="\u8FDB\u7A0B\u548C\u7EBF\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u7A0B\u548C\u7EBF\u7A0B" aria-hidden="true">#</a> \u8FDB\u7A0B\u548C\u7EBF\u7A0B</h2><p><strong>\u8FDB\u7A0B</strong> \u8BA1\u7B97\u673A\u5DF2\u7ECF\u8FD0\u884C\u7684\u7A0B\u5E8F</p><p><strong>\u7EBF\u7A0B</strong></p><p>\u64CD\u4F5C\u7CFB\u7EDF\u80FD\u591F\u8FD0\u884C\u8FD0\u7B97\u8C03\u5EA6\u7684\u6700\u5C0F\u5355\u4F4D\uFF08\u6BCF\u4E00\u4E2A\u8FDB\u7A0B\u4E2D\uFF0C\u90FD\u4F1A\u542F\u52A8\u4E00\u4E2A\u7EBF\u7A0B\u7528\u6765\u6267\u884C\u7A0B\u5E8F\u4E2D\u7684\u4EE3\u7801\uFF0C\u8FD9\u4E2A\u7EBF\u7A0B\u88AB\u79F0\u4E4B\u4E3A\u4E3B\u7EBF\u7A0B\uFF09</p><h2 id="\u6D4F\u89C8\u5668\u4E2D\u7684js\u7EBF\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u6D4F\u89C8\u5668\u4E2D\u7684js\u7EBF\u7A0B" aria-hidden="true">#</a> \u6D4F\u89C8\u5668\u4E2D\u7684JS\u7EBF\u7A0B</h2><p>\u6211\u4EEC\u7ECF\u5E38\u4F1A\u8BF4JavaScript\u662F\u5355\u7EBF\u7A0B\u7684\uFF0C\u4F46\u662FJavaScript\u7684\u7EBF\u7A0B\u5E94\u8BE5\u6709\u81EA\u5DF1\u7684\u5BB9\u5668\u8FDB\u7A0B\uFF1A\u6D4F\u89C8\u5668\u6216\u8005Node</p><p>\u6D4F\u89C8\u5668\u662F\u591A\u8FDB\u7A0B\u7684\uFF0Cjs\u4EE3\u7801\u6267\u884C\u662F\u5176\u4E2D\u7684\u4E00\u4E2A\u7EBF\u7A0B</p><h2 id="\u6D4F\u89C8\u5668\u7684\u4E8B\u4EF6\u5FAA\u73AF" tabindex="-1"><a class="header-anchor" href="#\u6D4F\u89C8\u5668\u7684\u4E8B\u4EF6\u5FAA\u73AF" aria-hidden="true">#</a> \u6D4F\u89C8\u5668\u7684\u4E8B\u4EF6\u5FAA\u73AF</h2><p>\u4EE3\u7801\u653E\u5230\u8C03\u7528\u6808\u4E2D\u6267\u884C\uFF08setTimeout\u4E5F\u662F\uFF09\uFF0C\u4F1A\u7ACB\u5373\u6267\u884C\uFF0C\u53EA\u4E0D\u8FC7\u6267\u884C\u4EFB\u52A1\u7684\u961F\u5217\u4E2D\u533A\u5206\u6709\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1\u3002</p><h2 id="\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1" tabindex="-1"><a class="header-anchor" href="#\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1" aria-hidden="true">#</a> \u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1</h2><ul><li>\u5B8F\u4EFB\u52A1\u961F\u5217\uFF08macrotask queue\uFF09\uFF1Aajax\u3001setTimeout\u3001setInterval\u3001DOM\u76D1\u542C\u3001UI Rendering\u7B49</li><li>\u5FAE\u4EFB\u52A1\u961F\u5217\uFF08microtask queue\uFF09\uFF1APromise\u7684then\u56DE\u8C03\u3001 Mutation Observer API\u3001queueMicrotask()\u7B49</li></ul><p><strong>Node\u7684\u5FAE\u4EFB\u52A1\u548C\u5B8F\u4EFB\u52A1</strong></p><p>\u5B8F\u4EFB\u52A1\uFF08macrotask\uFF09\uFF1AsetTimeout\u3001setInterval\u3001IO\u4E8B\u4EF6\u3001setImmediate\u3001close\u4E8B\u4EF6\uFF1B</p><p>\u5FAE\u4EFB\u52A1\uFF08microtask\uFF09\uFF1APromise\u7684then\u56DE\u8C03\u3001process.nextTick\u3001queueMicrotask</p><p><strong>\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1\u7684\u4F18\u5148\u7EA7</strong></p><ul><li>main script\u4E2D\u7684\u4EE3\u7801\u4F18\u5148\u6267\u884C</li><li>\u5FAE\u4EFB\u52A1\u6267\u884C\u518D\u5230\u5B8F\u4EFB\u52A1</li></ul><h2 id="\u7EC3\u4E60\u98981" tabindex="-1"><a class="header-anchor" href="#\u7EC3\u4E60\u98981" aria-hidden="true">#</a> \u7EC3\u4E60\u98981</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;setTimeout&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

<span class="token function">queueMicrotask</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;queueMicrotask&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Promise then&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u5176\u4ED6\u4EE3\u7801&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C\u662F:bar&gt;foo&gt;\u5176\u4ED6\u4EE3\u7801&gt;queueMicrotask&gt;Promise then&gt;setTimeout \u89E3\u6790:\u4EE3\u7801\u4F1A\u81EA\u4E0A\u800C\u4E0B\u6267\u884C\uFF0C\u9047\u5230\u5FAE\u4EFB\u52A1\u4F1A\u5148\u4E22\u5230\u5FAE\u4EFB\u52A1\u4E2D\uFF0C\u5B8F\u4EFB\u52A1\u4F1A\u4E22\u5230\u5B8F\u4EFB\u52A1\u4E2D</p><ul><li>1.setTimeout\u662F\u4E00\u4E2A\u5B8F\u4EFB\u52A1\u4F1A\u5148\u628AsetTimeout\u653E\u5230\u5B8F\u4EFB\u52A1\u4E2D</li><li>2.queueMicrotask\u662F\u4E00\u4E2A\u5FAE\u4EFB\u52A1</li><li>3.Promise.resolve().then\u662F\u4E00\u4E2A\u5FAE\u4EFB\u52A1</li><li>4.\u8FD9\u91CC\u9047\u5230\u4E86\u5168\u5C40\u4E2D\u7684bar()\u4F1A\u5148\u6267\u884C\uFF0C\u5C31\u4F1A\u5148\u8F93\u5165bar,\u7136\u540E\u662Ffoo</li><li>5.\u4EE3\u7801\u81EA\u4E0A\u800C\u4E0B\u9047\u5230\u4E86\u5176\u4ED6\u4EE3\u7801</li><li>6.\u4EE3\u7801\u81EA\u4E0A\u800C\u4E0B\u5DF2\u7ECF\u8D70\u5B8C\u4E86\uFF0C\u8FD9\u65F6\u5019\u5C31\u770B\u5FAE\u4EFB\u52A1\u961F\u5217</li><li>7.\u7B2C\u4E00\u4E2A\u5FAE\u4EFB\u52A1\u662F\u7B2C2\u70B9\u7684queueMicrotask\uFF0C\u6240\u4EE5\u8FD9\u65F6\u5019\u4F1A\u5148\u8F93\u5165queueMicrotask\uFF0C\u7136\u540E\u5FAE\u4EFB\u52A1\u4E2D\u8FD8\u6709Promise then</li><li>8.\u5FAE\u4EFB\u52A1\u8D70\u5B8C\u5C31\u770B\u5B8F\u4EFB\u52A1\uFF0C\u5B8F\u4EFB\u52A1\u53EA\u6709\u4E00\u4E2AsetTimeout</li></ul><h2 id="\u7EC3\u4E60\u98982" tabindex="-1"><a class="header-anchor" href="#\u7EC3\u4E60\u98982" aria-hidden="true">#</a> \u7EC3\u4E60\u98982</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;setTimeout1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;then4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;then2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;promise1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;then1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;setTimeout2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">queueMicrotask</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;queueMicrotask1&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;then3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C:promise1&gt;2&gt;then1&gt;queueMicrotask1&gt;then3&gt;setTimeout1&gt;then2&gt;then4&gt;setTimeout2 \u89E3\u6790\uFF1A\u8FD9\u91CC\u53EA\u9700\u8981promise\u4E2D\u7684\u4EE3\u7801\u662F\u7ACB\u5373\u6267\u884C\uFF0C\u7136\u540E\u5176\u4ED6\u7684\u548C\u98981\u4E00\u6837</p><h2 id="\u7EC3\u4E60\u98983" tabindex="-1"><a class="header-anchor" href="#\u7EC3\u4E60\u98983" aria-hidden="true">#</a> \u7EC3\u4E60\u98983</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async2&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script start&#39;</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setTimeout&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
 
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">new</span> <span class="token class-name">Promise</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script end&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C:script start&gt;async1 start&gt;async2&gt;promise1&gt;script end&gt;async1 end&gt;promise2&gt;setTimeout \u89E3\u6790\uFF1Aasync1\u5C31\u548Cpromise\u4E00\u6837\u4F1A\u7ACB\u5373\u6267\u884C\uFF08await\u4E5F\u662F\uFF09\uFF0Cawait\u540E\u9762\u7684\u4EE3\u7801\u4F1A\u88AB\u52A0\u5165\u5FAE\u4EFB\u52A1\u4E2D</p><h2 id="\u7EC3\u4E60\u98984" tabindex="-1"><a class="header-anchor" href="#\u7EC3\u4E60\u98984" aria-hidden="true">#</a> \u7EC3\u4E60\u98984</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async2&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script start&#39;</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setTimeout0&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setTimeout2&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>

<span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setImmediate&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;nextTick1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;nextTick2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise3&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script end&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C\uFF1Ascript start&gt;async1 start&gt;async2&gt;promise1&gt;promise2&gt;script end&gt; nextTick1&gt;nextTick2&gt;async1 end&gt;promise3&gt;setTimeout0&gt;setImmediate&gt;setTimeout2 \u89E3\u6790\uFF1Anode\u4E2D\u7684\u5FAE\u4EFB\u52A1\u4F1A\u5148\u6267\u884C</p>`,30),c=[o];function e(i,u){return s(),a("div",null,c)}var k=n(p,[["render",e],["__file","\u4E8B\u4EF6\u5FAA\u73AF.html.vue"]]);export{k as default};
